<Page x:ConnectionId='1'
    x:Class="VRCFaceTracking_Next.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:helpers="using:VRCFaceTracking_Next.Helpers"
    xmlns:xaml="using:Microsoft.UI.Xaml" 
    xmlns:labs="using:CommunityToolkit.Labs.WinUI"
    mc:Ignorable="d">
    <Page.Resources>
        <helpers:EnumToBooleanConverter x:Key="EnumToBooleanConverter" />
        <!--  These styles can be referenced to create a consistent SettingsPage layout  -->

        <!--  Spacing between cards  -->
        <x:Double x:Key="SettingsCardSpacing">3</x:Double>

        <!--  Style (inc. the correct spacing) of a section header  -->
        <Style
            x:Key="SettingsSectionHeaderTextBlockStyle"
            BasedOn="{StaticResource BodyStrongTextBlockStyle}"
            TargetType="TextBlock">
            <Style.Setters>
                <Setter Property="Margin" Value="1,29,0,5" />
            </Style.Setters>
        </Style>
    </Page.Resources>
    <Grid>
        <StackPanel x:ConnectionId='2'
            x:Name="ContentArea">
            <StackPanel.ChildrenTransitions>
                <EntranceThemeTransition FromVerticalOffset="50" />
                <RepositionThemeTransition IsStaggeringEnabled="False" />
            </StackPanel.ChildrenTransitions>
            <TextBlock Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" Text="Appearance" />
            <labs:SettingsCard Description="Select which app theme to display" Header="App theme">
                <labs:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xE790;" />
                </labs:SettingsCard.HeaderIcon>
                <ComboBox x:ConnectionId='7' x:Name="themeMode"                                              >
                    <ComboBoxItem Content="Light" Tag="Light" />
                    <ComboBoxItem Content="Dark" Tag="Dark" />
                    <ComboBoxItem Content="Use system setting" Tag="Default" />
                </ComboBox>
            </labs:SettingsCard>

            <TextBlock Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" Text="OSC" />
            <labs:SettingsCard Description="Where should OSC Data be sent?" Header="OSC Address">
                <labs:SettingsCard.HeaderIcon>
                    <FontIcon Glyph="&#xEC05;" />
                </labs:SettingsCard.HeaderIcon>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center">
                        <NumberBox x:ConnectionId='5' x:Name="RecvPort"
                            Header="Receive Port"
                            Value="9001"
                            SpinButtonPlacementMode="Inline"
                            SmallChange="1"
                            LargeChange="10"
                            Margin="15, 0, 15, 0"
                                                                />
                        <TextBox Header="IP Address" PlaceholderText="127.0.0.1" Text="127.0.0.1" />
                        <NumberBox x:ConnectionId='6' x:Name="SendPort"
                            Header="Send Port"
                            Value="9000"
                            SpinButtonPlacementMode="Inline"
                            SmallChange="1"
                            LargeChange="10" 
                            Margin="15, 0, 15, 0"/>
                    </StackPanel>
                </Grid>
            </labs:SettingsCard>

            <!--  About  -->
            <TextBlock Style="{StaticResource SettingsSectionHeaderTextBlockStyle}" Text="About" />
            <labs:SettingsExpander Description="© 2023 VRCFaceTracking. All rights reserved." Header="VRCFaceTracking">
                <labs:SettingsExpander.HeaderIcon>
                    <BitmapIcon ShowAsMonochrome="true" UriSource="/Assets/Tiles/SmallTile-github.png" />
                </labs:SettingsExpander.HeaderIcon>
                <TextBlock x:ConnectionId='3'
                        Margin="0,-2,0,0"
                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                        IsTextSelectionEnabled="True"
                                                />
                <labs:SettingsExpander.Items>
                    <labs:SettingsCard Header="To clone this repository">
                        <TextBlock
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                IsTextSelectionEnabled="True"
                                Text="git clone https://github.com/benaclejames/VRCFaceTracking" />
                    </labs:SettingsCard>
                    <labs:SettingsCard x:ConnectionId='4'
                            x:Name="bugRequestCard"
                                                        
                            Header="File a bug or request new sample"
                            IsClickEnabled="True">
                        <labs:SettingsCard.ActionIcon>
                            <FontIcon Glyph="&#xE8A7;" />
                        </labs:SettingsCard.ActionIcon>
                    </labs:SettingsCard>
                    <labs:SettingsCard
                            HorizontalContentAlignment="Left"
                            ContentAlignment="Vertical"
                            Header="Dependencies &amp; references">
                        <StackPanel Margin="-12,0,0,0" Orientation="Vertical">
                            <HyperlinkButton Content="SimpleRustOSC" NavigateUri="https://github.com/benaclejames/SimpleRustOSC" />
                        </StackPanel>
                    </labs:SettingsCard>
                    <labs:SettingsCard
                            HorizontalContentAlignment="Left"
                            ContentAlignment="Vertical"
                            Header="THIS CODE AND INFORMATION IS PROVIDED ‘AS IS’ WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE.">
                    </labs:SettingsCard>
                </labs:SettingsExpander.Items>
            </labs:SettingsExpander>
        </StackPanel>
    </Grid>
</Page>

